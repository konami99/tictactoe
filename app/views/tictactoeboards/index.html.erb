<!DOCTYPE html>
<html>
<head>
	<style>
		.board {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			grid-template-rows: repeat(3, 1fr);
			gap: 10px;
			width: 300px;
			height: 300px;
		}

		.cell {
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 48px;
			background-color: #ffffff;
			border: 1px solid #000000;
			cursor: pointer;
		}

		.circle::after {
			content: "O";
		}

		.cross::after {
			content: "X";
		}
	</style>
</head>
<body>
	<%= turbo_stream_from @tictactoeboard.channel %>
	<%= turbo_frame_tag 'join_a_game' do %>
		<%= turbo_frame_tag @tictactoeboard do %>
			<div class="board my-0 mx-auto" data-controller="tictactoe">
				<div id="cell_1" class="cell <% if @tictactoeboard.cell_1 == 'circle' %>circle<% elsif @tictactoeboard.cell_1 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_2" class="cell <% if @tictactoeboard.cell_2 == 'circle' %>circle<% elsif @tictactoeboard.cell_2 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_3" class="cell <% if @tictactoeboard.cell_3 == 'circle' %>circle<% elsif @tictactoeboard.cell_3 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_4" class="cell <% if @tictactoeboard.cell_4 == 'circle' %>circle<% elsif @tictactoeboard.cell_4 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_5" class="cell <% if @tictactoeboard.cell_5 == 'circle' %>circle<% elsif @tictactoeboard.cell_5 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_6" class="cell <% if @tictactoeboard.cell_6 == 'circle' %>circle<% elsif @tictactoeboard.cell_6 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_7" class="cell <% if @tictactoeboard.cell_7 == 'circle' %>circle<% elsif @tictactoeboard.cell_7 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_8" class="cell <% if @tictactoeboard.cell_8 == 'circle' %>circle<% elsif @tictactoeboard.cell_8 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
				<div id="cell_9" class="cell <% if @tictactoeboard.cell_9 == 'circle' %>circle<% elsif @tictactoeboard.cell_9 == 'cross' %>cross<% end %>" data-action="click->tictactoe#click"></div>
			</div>
		<% end %>
		<div>This is your channel code: <%= @channel %>, share it with another person so that person can play with you</div>
		<button type="button" data-controller="tictactoe" data-action="tictactoe#reset">Reset</button>
		<%= link_to 'Join a game', tictactoeboards_join_path %>
	<% end %>
</body>
</html>
